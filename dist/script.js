(()=>{"use strict";var e={959:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InitBypass=void 0,t.InitBypass=function(){const e=Symbol("listeners");function t(e){const t={};for(const n in e)t[n]=e[n];return t.isTrusted=!0,t}Node.prototype.addEventListener=new Proxy(Node.prototype.addEventListener,{apply:(t,n,o)=>(n[e]=n[e]||{},o[0]in n[e]?n[e][o[0]].push(o[1]):n[e][o[0]]=[o[1]],Reflect.apply(t,n,o))}),console.info("🪝 [GS] Hooked addEventListener."),Node.prototype.dispatchEvent=new Proxy(Node.prototype.dispatchEvent,{apply(n,o,s){if(!o[e])return Reflect.apply(n,o,s);const r=o[e][s[0]?.type];if(!r)return Reflect.apply(n,o,s);for(const e of r)e(t(s[0]))}}),console.info("🪝 [GS] Hooked dispatchEvent.")}},722:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FindAnswer=t.GetAnswers=void 0;const o=n(477);async function s(){const e=await(0,o.GetGameId)();return await fetch(`https://www.gimkit.com/api/games/fetch/${e}`).then((e=>e.json()))}t.GetAnswers=s,t.FindAnswer=async function(e){const t=await s();if(t instanceof Error)return null;const n=t.kit.questions;for(const t of n)if(t.text==e){const e=t.answers;return{answer:e.find((e=>e.correct))?.text||null,type:t.type}}return null}},477:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GetGameId=void 0;const n=window.WebSocket;window.WebSocket=class extends n{constructor(e,t){super(e,t),this.addEventListener("message",this.HandleMessage.bind(this))}HandleMessage(e){if(!window.GameId){const t=new TextDecoder("utf-8").decode(e.data);if(t.includes("game")){const e=this.ExtractGameID(t);e&&(console.info(`🥅 [GS] Caught game ID: ${e}`),window.GameId=e)}}}ExtractGameID(e){const t=[...e.matchAll(/\bgame(?!\uFFFDend)(?:�|":")([a-z0-9]*)/g)];return t.length>0?t[0][1]:null}},console.info("🪝 [GS] Hooked WebSocket."),t.GetGameId=function(){return new Promise((e=>{const t=setInterval((()=>{window.GameId&&(clearInterval(t),e(window.GameId))}),100)}))}},718:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GetElement=void 0,t.GetElement=e=>document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue},975:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Sleep=void 0,t.Sleep=function(e){return new Promise((t=>setTimeout(t,e)))}},938:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TypeText=void 0;const o=n(975);t.TypeText=async function(e,t){for(const n of e)t.setAttribute("value",t.getAttribute("value")+n),await(0,o.Sleep)(150)}},198:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WaitForElement=void 0,t.WaitForElement=function(e){return new Promise((t=>{const n=setInterval((()=>{document.querySelector(e)&&(clearInterval(n),t())}),50)}))}}},t={};function n(o){var s=t[o];if(void 0!==s)return s.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}(()=>{console.info("🔃 [GS] Loading...");const e=n(959),t=n(722),o=n(718),s=n(975),r=n(938),a=n(198);(0,e.InitBypass)(),console.info("🚀 [GS] Started."),async function(e=(()=>!0)){for(;e;){await(0,a.WaitForElement)(".notranslate.lang-en");const e=(0,o.GetElement)("//span[@class='notranslate lang-en']")?.textContent,n=await(0,t.FindAnswer)(e);if(null==n?.answer)throw new Error("Answer not found");if("text"==n?.type){const e=(0,o.GetElement)("//input");await(0,r.TypeText)(n?.answer,e),e.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0})),(0,o.GetElement)("//div[text()='Submit']").dispatchEvent(new Event("click",{bubbles:!0})),console.debug(`Submitted answer: ${n?.answer}`)}else if("mc"==n?.type){const e=document.querySelectorAll(".sc-jVlprr.ihVPuW"),t=Array.from(e).findIndex((e=>e.querySelector(".notranslate.lang-en")?.textContent==n?.answer));document.dispatchEvent(new KeyboardEvent("keydown",{keyCode:(t+1).toString().charCodeAt(0)})),console.debug(`Submitted answer: ${n?.answer}`)}await(0,s.Sleep)(1500)}}()})()})();